<div class="dashboard-container">
  <!-- SIDEBAR -->

  <aside class="sidebar">
    <div class="logo">
      <img src="logo.png" alt="logo" class="logo-icon" />
      <h2>TaskFlow</h2>
    </div>
    <div>
      <h3>taches compl√©t√©es</h3>
      <ul>
        <li>truc</li>
        <li>truc</li>
        <li>truc</li>
        <li>truc</li>
        <li>truc</li>
      </ul>
    </div>
    <div class="sidebar-footer">
      <div class="user-profile">
        <div class="avatar">JD</div>
        <div class="user-info">
          <span class="user-name">nom utilisateur</span>
          <span class="user-email"></span>
        </div>
      </div>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main-content">
    <!-- HEADER -->
    <header class="header">
      <div class="header-left">
        <h1>Bonjour, Sami Moussous</h1>
        <p class="date">Mardi 15 Janvier 2025</p>
      </div>
      <div class="header-right">
        <div class="search-box">
          <span class="search-icon">üîç</span>
          <input type="text" placeholder="Rechercher une t√¢che..." />
        </div>
        <button type="button" class="btn-logout" (click)="signOut()">D√©connexion</button>
      </div>
    </header>

    <!-- STATISTICS CARDS -->
    <section class="stats-container">
      <div class="stat-card stat-total">
        <div class="stat-icon">üìã</div>
        <div class="stat-info">
          <span class="stat-number">24</span>
          <span class="stat-label">Total T√¢ches</span>
        </div>
      </div>
      <div class="stat-card stat-pending">
        <div class="stat-icon">‚è≥</div>
        <div class="stat-info">
          <span class="stat-number">12</span>
          <span class="stat-label">En Cours</span>
        </div>
      </div>
      <div class="stat-card stat-completed">
        <div class="stat-icon">‚úÖ</div>
        <div class="stat-info">
          <span class="stat-number">8</span>
          <span class="stat-label">Compl√©t√©es</span>
        </div>
      </div>
    </section>

    <!-- ADD TASK FORM -->
    <section class="add-task-section">
      <form class="add-task-form">
        <input type="text" placeholder="Ajouter une nouvelle t√¢che..." class="task-input"
          [formControl]="addTaskInput" />
        <button type="button" class="btn-add" (click)="onSubmitNewTask()">+ Ajouter</button>
      </form>
    </section>

    <!-- TASKS LIST -->
    <section class="tasks-section">
      <div class="tasks-header">
        <h2>Mes T√¢ches</h2>
      </div>

      <div class="tasks-list">
        @for (item of tasks(); track item.id) {
        <div class="task-item">
          <label class="checkbox-container">
            <input type="checkbox" [checked]="item.is_done" (change)="updateCheckbox(item)" />
            <span class="checkmark"></span>
          </label>
          <div class="task-content">
            <h3 class="task-title">{{ item.description }}</h3>
            <div class="task-meta"></div>
          </div>
          <div class="task-actions">
            <hlm-dialog >
              <button hlmDialogTrigger hlmBtn class="bg-sky-700">‚úèÔ∏è</button>
              <hlm-dialog-content class="sm:max-w-106.25 bg-neutral-800 w-96" *hlmDialogPortal="let ctx">

                <hlm-dialog-footer>
                </hlm-dialog-footer>

                <form class="flex flex-col gap-4 ">
                  <label for="" class="text-sky-100 text-center ">Modifier la tache</label>
                  <input type="text" name="" id="" class="bg-sky-100 task-modified" [formControl]="updateTaskInput">
                  <button type="submit" hlmBtn class="bg-sky-700" brnDialogClose (click)="OnSubmitUpdatedTask(item.id)">Modifier</button>
                </form>

              </hlm-dialog-content>
            </hlm-dialog>

            <button class="btn-icon btn-delete" (click)="delete(item.id)">üóëÔ∏è</button>
          </div>
        </div>
        }
      </div>
    </section>

  </main>
</div>